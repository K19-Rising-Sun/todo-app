(()=>{"use strict";function e(e){return e.querySelectorAll('input[type="text"],textarea').forEach((function(t){t.addEventListener("input",(function(t){e.querySelector(".warning-txt").classList.remove("show")}))})),e}function t(e,t,n){var r=document.createElement("form");return r.className="todo",r.innerHTML='\n        <div class="spinner-conatiner">\n            <div class="spinner"></div>\n        </div>\n        <input type="text" name="category" placeholder="Category">\n\n        <div class="todo-header">\n            <input type="text" name="title" placeholder="Title">\n            <input type="submit" value="Change" class="submit-btn">\n        </div>\n        <textarea name="description" cols="30" rows="10">'.concat(n,'</textarea>\n        <p class="warning-txt">Please fill in all field</p>\n    '),r.querySelector('input[name="title"]').value=e,r.querySelector('input[name="category"]').value=t,r}function n(e,t,n,r){var o=document.createElement("div");return o.className="todo ".concat(r?"complete":""),o.innerHTML='\n        <div class="spinner-conatiner">\n            <div class="spinner"></div>\n        </div>\n        <p class="category">'.concat(t,'</p>\n        <div class="todo-header">\n            <div class="todo-title"><h2>').concat(e,'</h2></div>\n            <span class="icons">\n                <span class="material-symbols-outlined edit-icon">\n                    edit\n                </span>\n                <span class="material-symbols-outlined done-icon">\n                    done\n                    </span>\n                <span class="material-symbols-outlined delete-icon">\n                    delete\n                </span>\n            </span>\n        </div>\n        <p class="description">').concat(n,"</p>\n    "),o}var r=function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=function(e,t,n,r){return new(n||(n=Promise))((function(o,s){function i(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}c((r=r.apply(e,t||[])).next())}))},s=function(e,t){var n,r,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},i={},a="All";function c(e,t){switch(e){case"Done":return t;case"Undone":return!t;default:return!0}}function l(){var e=document.querySelector(".todo-container");e.innerHTML='\n    <button class="add-todo">\n        <span class="material-symbols-outlined">\n            add\n        </span>\n    </button>\n    ';var r,o=e.querySelector(".add-todo");if((r=o).addEventListener("click",(function(e){document.querySelector(".add-new-todo-container").classList.toggle("show")})),o=r,0!==Object.keys(i).length)for(var s in i){var l=i[s],u=l.title,d=l.description,f=l.category,p=l.isCompleted,v=l.isEditing;if(c(a,p)){var y=v?w(t(u,f,d),s):m(n(u,f,d,p),s);e.appendChild(y)}}else e.innerHTML='<p class="empty-txt">You have no todo</p>'}var u,d,f,p,v=function(e){return new Promise((function(t,n){return setTimeout((function(){i[e]=r(r({},i[e]),{isEditing:!1}),t(!0)}),1e3)}))},y=function(e){return new Promise((function(t,n){return setTimeout((function(){delete i[e],t(!0)}),1e3)}))},h=function(e){return new Promise((function(t){return setTimeout((function(){i[e].isCompleted=!i[e].isCompleted,t(!0)}),1e3)}))},g=function(e){return new Promise((function(t){return setTimeout((function(){i[function(e){for(var t="",n=0;n<8;)t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(62*Math.random())),n+=1;return t}()]=r(r({},e),{isCompleted:!1,isEditing:!1}),l(),t(!0)}),1e3)}))};function m(e,n){return e=function(e,n){return e.querySelector(".edit-icon").addEventListener("click",(function(r){var o=i[n],s=o.title,a=o.category,c=o.description;e.replaceWith(w(t(s,a,c),n))})),e}(e,n),e=function(e,t){var n=this,r=e.querySelector(".spinner-conatiner");return e.querySelector(".delete-icon").addEventListener("click",(function(i){return o(n,void 0,void 0,(function(){var n;return s(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,3,4]),r.classList.toggle("show"),[4,y(t)];case 1:return o.sent(),e.remove(),[3,4];case 2:return n=o.sent(),console.log(n),[3,4];case 3:return r.classList.toggle("show"),[7];case 4:return[2]}}))}))})),e}(e,n),e=function(e,t){var n=this,r=e.querySelector(".spinner-conatiner");return e.querySelector(".done-icon").addEventListener("click",(function(l){return o(n,void 0,void 0,(function(){var n;return s(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,3,4]),r.classList.toggle("show"),[4,h(t)];case 1:return o.sent(),e.classList.toggle("complete"),c(a,i[t].isCompleted)||e.remove(),[3,4];case 2:return n=o.sent(),console.log(n),[3,4];case 3:return r.classList.toggle("show"),[7];case 4:return[2]}}))}))})),e}(e,n),e}function w(t,r){return t=function(e,t){var r=this,a=e.querySelector(".spinner-conatiner");return e.addEventListener("submit",(function(c){return o(r,void 0,void 0,(function(){var r,o,l,u,d,f,p,y,h,g,w;return s(this,(function(s){switch(s.label){case 0:if(c.preventDefault(),r=i[t],o=r.title,l=r.category,u=r.description,!o||!l||!u)return null===(w=e.querySelector(".warning-txt"))||void 0===w||w.classList.toggle("show"),[2];s.label=1;case 1:return s.trys.push([1,3,4,5]),a.classList.toggle("show"),[4,v(t)];case 2:return s.sent(),d=i[t],f=d.title,p=d.category,y=d.description,h=d.isCompleted,e.replaceWith(m(n(f,p,y,h),t)),[3,5];case 3:return g=s.sent(),console.log(g),[3,5];case 4:return a.classList.toggle("show"),[7];case 5:return[2]}}))}))})),e}(t,r),t=function(e,t){return e.querySelector('input[name="title"]').addEventListener("input",(function(e){i[t].title=e.target.value})),e.querySelector('input[name="category"]').addEventListener("input",(function(e){i[t].category=e.target.value})),e.querySelector('textarea[name="description"]').addEventListener("input",(function(e){i[t].description=e.target.value})),e}(t,r),e(t)}d=(u=document.querySelector(".add-new-todo-container")).querySelector(".add-new-todo"),u=function(e){var t=this,n=e.querySelector(".spinner-conatiner"),r=e.querySelector(".add-new-todo");return r.addEventListener("submit",(function(i){return o(t,void 0,void 0,(function(){var t,o,a,c,l,u;return s(this,(function(s){switch(s.label){case 0:if(i.preventDefault(),t=r.querySelector('input[name="title"]').value,o=r.querySelector('input[name="category"]').value,a=r.querySelector('textarea[name="description"]').value,c={title:t,category:o,description:a},!t||!o||!a)return null===(u=e.querySelector(".warning-txt"))||void 0===u||u.classList.toggle("show"),[2];s.label=1;case 1:return s.trys.push([1,3,4,5]),n.classList.toggle("show"),[4,g(c)];case 2:return s.sent(),r.reset(),e.classList.toggle("show"),[3,5];case 3:return l=s.sent(),console.log(l),[3,5];case 4:return n.classList.toggle("show"),[7];case 5:return[2]}}))}))})),e}(u),d=e(d),f=document.querySelector(".add-new-todo-container"),document.querySelector(".add-new-todo-container .exit-icon").addEventListener("click",(function(){f.classList.toggle("show")})),(p=document.querySelector(".todo-states")).querySelector(".all-state").addEventListener("click",(function(e){a="All",p.className="todo-states all",l()})),p.querySelector(".done-state").addEventListener("click",(function(e){a="Done",p.className="todo-states done",l()})),p.querySelector(".undone-state").addEventListener("click",(function(e){a="Undone",p.className="todo-states undone",l()})),function(){var e=this;document.querySelector(".search-section").addEventListener("submit",(function(t){return o(e,void 0,void 0,(function(){var e;return s(this,(function(n){switch(n.label){case 0:t.preventDefault(),document.querySelector("#search-title").value,document.querySelector("#search-category").value,n.label=1;case 1:return n.trys.push([1,3,4,5]),document.querySelector(".todo-section>.spinner-conatiner").classList.toggle("show"),[4,new Promise((function(e){return setTimeout((function(){l(),e(!0)}),1e3)}))];case 2:return n.sent(),[3,5];case 3:return e=n.sent(),console.log(e),[3,5];case 4:return document.querySelector(".todo-section>.spinner-conatiner").classList.toggle("show"),[7];case 5:return[2]}}))}))}))}(),function(){o(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,3,4]),document.querySelector(".todo-section>.spinner-conatiner").classList.toggle("show"),[4,new Promise((function(e){return setTimeout((function(){console.log("http:localhost:3000"),i={23:{title:"asdlkfjasd",category:"alsdjflasjd",description:"alsdjflasjd",isCompleted:!0,isEditing:!1},235:{title:"asdlkfjasd",category:"alsdjflasjd",description:"alsdjflasjd fasdf asd fa sdf",isCompleted:!1,isEditing:!1},21:{title:"asdlkfjasadsf asdf asdf asd fa sdfadsfd",category:"alsdjflasasdjd",description:"alsdjflasjdsafd asdf asdf asdf asdf",isCompleted:!1,isEditing:!1}},l(),e(!0)}),1e3)}))];case 1:return t.sent(),[3,4];case 2:return e=t.sent(),console.log(e),[3,4];case 3:return document.querySelector(".todo-section>.spinner-conatiner").classList.toggle("show"),[7];case 4:return[2]}}))}))}()})();